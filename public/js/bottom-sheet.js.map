{"version":3,"file":"bottom-sheet.js","names":["$","document","querySelector","bind","openSheetButton","sheet","sheetContents","draggableArea","html","sheetHeight","setSheetHeight","value","Math","max","min","style","height","classList","add","remove","body","setIsSheetShown","isShown","setAttribute","String","addEventListener","window","innerHeight","isFocused","element","activeElement","event","isSheetElementFocused","contains","target","key","touchPosition","touches","dragPosition","onDragStart","pageY","cursor","onDragMove","undefined","y","deltaY","deltaHeight","onDragEnd"],"sources":["bottom-sheet.js"],"sourcesContent":["const $ = document.querySelector.bind(document)\n\nconst openSheetButton = $(\"#open-sheet\")\nconst sheet = $(\"#sheet\")\nconst sheetContents = sheet.querySelector(\".app-bottom-sheet__contents\")\nconst draggableArea = sheet.querySelector(\".app-bottom-sheet__draggable-area\")\nconst html = document.querySelector(\"html\")\n\nlet sheetHeight // in vh\n\nconst setSheetHeight = (value) => {\n  sheetHeight = Math.max(0, Math.min(100, value))\n  sheetContents.style.height = `${sheetHeight}vh`\n\n  if (sheetHeight === 100) {\n    sheetContents.classList.add(\"fullscreen\")\n  } else {\n    sheetContents.classList.remove(\"fullscreen\")\n    // Add overflow hidden to html and body tags\n    document.body.classList.add(\"app-bottom-sheet__body\")\n    html.classList.add(\"app-bottom-sheet__body\")\n  }\n}\n\nconst setIsSheetShown = (isShown) => {\n  sheet.setAttribute(\"aria-hidden\", String(!isShown))\n}\n\n// Open the sheet when clicking the 'open sheet' button\nopenSheetButton.addEventListener(\"click\", () => {\n  setSheetHeight(Math.min(50, 720 / window.innerHeight * 100))\n  setIsSheetShown(true)\n})\n\n// Hide the sheet when clicking the 'close' button\nsheet.querySelector(\".app-bottom-sheet__close-sheet\").addEventListener(\"click\", () => {\n  setIsSheetShown(false)\n  // Remove overflow hidden to html and body tags\n  document.body.classList.remove(\"app-bottom-sheet__body\")\n  html.classList.remove(\"app-bottom-sheet__body\")\n})\n\n// Hide the sheet when clicking the background\nsheet.querySelector(\".app-bottom-sheet__overlay\").addEventListener(\"click\", () => {\n  setIsSheetShown(false)\n  // Remove overflow hidden to html and body tags\n  document.body.classList.remove(\"app-bottom-sheet__body\")\n  html.classList.remove(\"app-bottom-sheet__body\")\n})\n\nconst isFocused = element => document.activeElement === element\n\n// Hide the sheet when pressing Escape if the target element\n// is not an input field\nwindow.addEventListener(\"keyup\", (event) => {\n  const isSheetElementFocused =\n    sheet.contains(event.target) && isFocused(event.target)\n\n  if (event.key === \"Escape\" && !isSheetElementFocused) {\n    setIsSheetShown(false)\n  }\n})\n\nconst touchPosition = (event) =>\n  event.touches ? event.touches[0] : event\n\nlet dragPosition\n\nconst onDragStart = (event) => {\n  dragPosition = touchPosition(event).pageY\n  sheetContents.classList.add(\"not-selectable\")\n  draggableArea.style.cursor = document.body.style.cursor = \"grabbing\"\n}\n\nconst onDragMove = (event) => {\n  if (dragPosition === undefined) return\n\n  const y = touchPosition(event).pageY\n  const deltaY = dragPosition - y\n  const deltaHeight = deltaY / window.innerHeight * 100\n\n  setSheetHeight(sheetHeight + deltaHeight)\n  dragPosition = y\n}\n\nconst onDragEnd = () => {\n  dragPosition = undefined\n  sheetContents.classList.remove(\"not-selectable\")\n  draggableArea.style.cursor = document.body.style.cursor = \"\"\n\n  if (sheetHeight < 35) {\n    setIsSheetShown(false)\n    // Remove overflow hidden to html and body tags\n    document.body.classList.remove(\"app-bottom-sheet__body\")\n    html.classList.remove(\"app-bottom-sheet__body\")\n  } else if (sheetHeight > 75) {\n    setSheetHeight(98)\n  } else {\n    setSheetHeight(50)\n  }\n}\n\ndraggableArea.addEventListener(\"mousedown\", onDragStart)\ndraggableArea.addEventListener(\"touchstart\", onDragStart)\n\nwindow.addEventListener(\"mousemove\", onDragMove)\nwindow.addEventListener(\"touchmove\", onDragMove)\n\nwindow.addEventListener(\"mouseup\", onDragEnd)\nwindow.addEventListener(\"touchend\", onDragEnd)"],"mappings":"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","ignoreList":[]}